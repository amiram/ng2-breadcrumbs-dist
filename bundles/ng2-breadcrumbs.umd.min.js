!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/router"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-breadcrumbs",["exports","rxjs","rxjs/operators","@angular/core","@angular/router","@angular/platform-browser","@angular/common"],e):e(r["ng2-breadcrumbs"]={},r.rxjs,r.rxjs.operators,r.ng.core,r.ng.router,r.ng.platformBrowser,r.ng.common)}(this,function(r,e,t,a,l,n,o){"use strict";var s=function(){function r(){this.prefixedBreadcrumbs=[],this.breadcrumbs=[],this.breadcrumbsSource=new e.Subject,this.breadcrumbsChanged$=this.breadcrumbsSource.asObservable(),null!=localStorage.getItem("prefixedBreadcrumbs")&&(this.prefixedBreadcrumbs=JSON.parse(localStorage.getItem("prefixedBreadcrumbs")))}return r.prototype.store=function(r){this.breadcrumbs=r;var e=this.prefixedBreadcrumbs.concat(this.breadcrumbs);this.breadcrumbsSource.next(e)},r.prototype.storePrefixed=function(r){this.storeIfUnique(r),localStorage.setItem("prefixedBreadcrumbs",JSON.stringify(this.prefixedBreadcrumbs));var e=this.prefixedBreadcrumbs.concat(this.breadcrumbs);this.breadcrumbsSource.next(e)},r.prototype.get=function(){return this.breadcrumbsChanged$},r.prototype.storeIfUnique=function(r){var e,t,a=!0;try{for(var n=function u(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}}(this.prefixedBreadcrumbs),o=n.next();!o.done;o=n.next()){var s=o.value;if(r.url==s.url){a=!1;break}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}a&&this.prefixedBreadcrumbs.push(r)},r.decorators=[{type:a.Injectable}],r.ctorParameters=function(){return[]},r}(),u=function(){function r(r,e,t){var a=this;this.breadcrumbService=r,this.activatedRoute=e,this.router=t,r.get().subscribe(function(r){a.breadcrumbs=r})}return r.prototype.hasParams=function(r){return Object.keys(r.params).length?[r.url,r.params]:[r.url]},r.prototype.ngOnInit=function(){var c=this,i="breadcrumb",d="breadcrumb";this.router.events.pipe(t.filter(function(r){return r instanceof l.NavigationEnd})).subscribe(function(r){c.currentBreadcrumbs=[];for(var s=c.activatedRoute.root,u="",e=function(){var r=s.children,o="";r.forEach(function(r){if((s=r).outlet===l.PRIMARY_OUTLET){var e=r.routeConfig&&r.routeConfig.data,t=r.snapshot.params.hasOwnProperty(d);if(e||t){t?o=r.snapshot.params[d].replace(/_/g," "):r.snapshot.data.hasOwnProperty(i)&&(o=r.snapshot.data[i]);var a=r.snapshot.url.map(function(r){return r.path}).join("/");u+="/"+a,0===a.length&&(r.snapshot.params={});var n={label:o,params:r.snapshot.params,url:u};r.snapshot.data.hasOwnProperty("prefixBreadcrumb")?c.breadcrumbService.storePrefixed(n):c.currentBreadcrumbs.push(n)}}}),c.breadcrumbService.store(c.currentBreadcrumbs)};0<s.children.length;)e()})},r.decorators=[{type:a.Component,args:[{selector:"breadcrumb",template:'\n        <div [ngClass]="{ \'container-fluid\': allowBootstrap, \'fluid-bread\': true}">\n            <div class="container">\n                <ol [ngClass]="{ \'breadcrumb\': allowBootstrap}" class="{{addClass ? \'\' + addClass : \'\'}}">\n                    <li *ngFor="let breadcrumb of breadcrumbs; let last = last"\n                        [ngClass]="{ \'breadcrumb-item\': allowBootstrap, \'list\': true, \'active\': last }">\n                        <a *ngIf="!last" [routerLink]="hasParams(breadcrumb)">\n                            {{breadcrumb.label}}\n                        </a>\n                        <span *ngIf="last">{{ breadcrumb.label }}</span>\n                    </li>\n                </ol>\n            </div>\n        </div>',encapsulation:a.ViewEncapsulation.None,styles:["\n        .fluid-bread {\n            background-color: white;\n        }\n\n        .breadcrumb {\n            background-color: white;\n            padding: 4px;\n            margin-bottom: 0;\n        }"]}]}],r.ctorParameters=function(){return[{type:s},{type:l.ActivatedRoute},{type:l.Router}]},r.propDecorators={allowBootstrap:[{type:a.Input}],addClass:[{type:a.Input}]},r}(),c=function(){function r(){}return r.forRoot=function(){return{ngModule:r}},r.decorators=[{type:a.NgModule,args:[{declarations:[u],providers:[s],imports:[l.RouterModule,n.BrowserModule,o.CommonModule],exports:[u]}]}],r.ctorParameters=function(){return[]},r}();r.BreadcrumbComponent=u,r.BreadcrumbsService=s,r.BreadcrumbsModule=c,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-breadcrumbs.umd.min.js.map